const express = require('express')
const router = express.Router()
const { authenticated } = require('../../middleware/api-auth')
const transactionsController = require('../../controllers/transaction-controller')

router.get('/public/currentUser', authenticated, transactionsController.getCurrentUserPublicTransaction)
router.post('/:id/public', authenticated, transactionsController.postPublic)
router.delete('/:id/public', authenticated, transactionsController.deletePublic)
router.post('/:id/replies', authenticated, transactionsController.postReply)
router.delete('/:id/deleteReplies', authenticated, transactionsController.deleteReply)
router.get('/:id/replies', authenticated, transactionsController.getReplies)
router.post('/:id/like', authenticated, transactionsController.addLike)
router.delete('/:id/unlike', authenticated, transactionsController.removeLike)
router.get('/:id/likes', authenticated, transactionsController.getUserLikes)
router.get('/:id/daily', authenticated, transactionsController.getDailyTransactions)
router.get('/:id/history', authenticated, transactionsController.getHistoryTransactions)
router.get('/:id/byDate',authenticated,transactionsController.getTransactionsForTheDay)
router.get('/top', authenticated, transactionsController.getTopUsers)
router.post('/range', authenticated, transactionsController.getTransactions)
router.get('/public', authenticated, transactionsController.getPublicTransactions)
router.get('/:id', authenticated, transactionsController.getTransaction)
router.put('/:id', authenticated, transactionsController.putTransaction)
router.delete('/:id', authenticated, transactionsController.removeTransaction)
router.post('/', authenticated, transactionsController.postTransaction)

module.exports = router
